// ==================================== Improved Invisibility resource passives ====================================

new entry "Goon_Target_Invisibility_Greater_Resource_1"
type "PassiveData"
data "Properties" "IsHidden"
data "DisplayName" "hbf3fe4abg837bg4fdega4b7geae392d58088"
data "Description" "hd5c3a80fga55eg46f4gab29gae6414389e4e"
data "DescriptionParams" "1"
data "Icon" "Status_Invisible"
data "Boosts" "ActionResource(GoonTargetInvisibilityGreaterResource,1,0)"

new entry "Goon_Target_Invisibility_Greater_Resource_2"
type "PassiveData"
data "Properties" "IsHidden"
data "DisplayName" "hbf3fe4abg837bg4fdega4b7geae392d58088"
data "Description" "hd5c3a80fga55eg46f4gab29gae6414389e4e"
data "DescriptionParams" "2"
data "Icon" "Status_Invisible"
data "Boosts" "ActionResource(GoonTargetInvisibilityGreaterResource,2,0)"

new entry "Goon_Target_Invisibility_Greater_Resource_3"
type "PassiveData"
data "Properties" "IsHidden"
data "DisplayName" "hbf3fe4abg837bg4fdega4b7geae392d58088"
data "Description" "hd5c3a80fga55eg46f4gab29gae6414389e4e"
data "DescriptionParams" "3"
data "Icon" "Status_Invisible"
data "Boosts" "ActionResource(GoonTargetInvisibilityGreaterResource,3,0)"

new entry "Goon_Target_Invisibility_Greater_Resource_4"
type "PassiveData"
data "Properties" "IsHidden"
data "DisplayName" "hbf3fe4abg837bg4fdega4b7geae392d58088"
data "Description" "hd5c3a80fga55eg46f4gab29gae6414389e4e"
data "DescriptionParams" "4"
data "Icon" "Status_Invisible"
data "Boosts" "ActionResource(GoonTargetInvisibilityGreaterResource,4,0)"

new entry "Goon_Target_Invisibility_Greater_Resource_5"
type "PassiveData"
data "Properties" "IsHidden"
data "DisplayName" "hbf3fe4abg837bg4fdega4b7geae392d58088"
data "Description" "hd5c3a80fga55eg46f4gab29gae6414389e4e"
data "DescriptionParams" "5"
data "Icon" "Status_Invisible"
data "Boosts" "ActionResource(GoonTargetInvisibilityGreaterResource,5,0)"

// ==================================== Spells for resource ====================================

new entry "Goon_Target_Invisibility_Greater_1_Turn"
type "SpellData"
data "SpellType" "Target"
data "Level" "4"
using "Target_Invisibility_Greater"
data "UseCosts" "GoonTargetInvisibilityGreaterResource:1"
data "Cooldown" "OncePerTurn"

new entry "Goon_Target_Invisibility_Greater_2_Turn"
type "SpellData"
data "SpellType" "Target"
data "Level" "4"
using "Target_Invisibility_Greater"
data "UseCosts" "GoonTargetInvisibilityGreaterResource:1"
data "SpellProperties" "AI_IGNORE:ApplyStatus(GREATER_INVISIBILITY,100,1);AI_ONLY:ApplyStatus(GREATER_INVISIBILITY,100,1);ApplyStatus(GOON_TARGET_INVISIBILITY_GREATER_COOLDOWN_2,100,2)"
data "TargetConditions" "Character() and not HasStatus('FAERIE_FIRE')  and not IsImmuneToStatus('SG_Invisible') and not HasStatus('GOON_TARGET_INVISIBILITY_GREATER_COOLDOWN_2', context.Source)"
data "Cooldown" ""

new entry "Goon_Target_Invisibility_Greater_3_Turn"
type "SpellData"
data "SpellType" "Target"
data "Level" "4"
using "Target_Invisibility_Greater"
data "UseCosts" "GoonTargetInvisibilityGreaterResource:1"
data "SpellProperties" "AI_IGNORE:ApplyStatus(GREATER_INVISIBILITY,100,1);AI_ONLY:ApplyStatus(GREATER_INVISIBILITY,100,1);ApplyStatus(GOON_TARGET_INVISIBILITY_GREATER_COOLDOWN_2,100,3)"
data "TargetConditions" "Character() and not HasStatus('FAERIE_FIRE')  and not IsImmuneToStatus('SG_Invisible') and not HasStatus('GOON_TARGET_INVISIBILITY_GREATER_COOLDOWN_3', context.Source)"
data "Cooldown" ""

// ==================================== Cooldown statuses ====================================

new entry "GOON_TARGET_INVISIBILITY_GREATER_COOLDOWN_2"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" ""
data "Description" ""
data "Icon" "statIcons_Parried"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "StackId" "GOON_TARGET_INVISIBILITY_GREATER_COOLDOWN_2"
data "StackType" "Overwrite"
data "TickType" "StartTurn"

new entry "GOON_TARGET_INVISIBILITY_GREATER_COOLDOWN_3"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" ""
data "Description" ""
data "Icon" "statIcons_Parried"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "StackId" "GOON_TARGET_INVISIBILITY_GREATER_COOLDOWN_3"
data "StackType" "Overwrite"
data "TickType" "StartTurn"

// ==================================== Custom Invisibility status ====================================

//new entry "GREATER_INVISIBILITY"
//type "StatusData"
//data "StatusType" "INVISIBLE"
//using "INVISIBILITY"
// Greater Invisibility
//data "DisplayName" "h17d32d34g187eg46b1g938fg20d567df6eb4;2"
// Entity has <LSTag Tooltip="Advantage">Advantage</LSTag> on <LSTag Tooltip="AttackRoll">Attack Rolls</LSTag>. Attack Rolls against it have <LSTag Tooltip="Disadvantage">Disadvantage</LSTag>. <br><br>When interacting with items, casting spells or attacking, the entity needs to succeed a Stealth <LSTag Tooltip="AbilityCheck">Check</LSTag> to maintain Invisibility. The check becomes harder with each successful attempt.
//data "Description" "ha4468dd2gdefeg4a52ga0c7g91ae57aef8a3;5"
//data "Icon" "Spell_Illusion_GreaterInvisibility"
//data "StackPriority" "5"
//data "OnApplyFunctors" "ApplyStatus(GREATER_INVISIBILITY_TRACKER,100,-1)"
//data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering"
//data "RemoveEvents" "OnSpellCast;OnEntityPickUp;OnEntityDrop;OnEntityDrag;OnLockpickingFinished;OnDisarmingFinished"
//data "RemoveConditions" "GreaterInvisibilityCheck_InvisSpellOrRoll()"
//data "OnRemoveFunctors" "RemoveStatus(GREATER_INVISIBILITY_TRACKER);RemoveStatus(GREATER_INVISIBILITY_SUCCESS)"